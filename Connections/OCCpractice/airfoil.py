from math import sqrt

from OCC.Display.SimpleGui import init_display
from Connections.Component.ModelUtils import getGpPt, makeEdgesFromPoints, makeWireFromEdges, makeFaceFromWire, makePrismFromFace
import numpy
import math

display, start_display, add_menu, add_function_to_menu = init_display()

sec_origin = numpy.array([0, 0, 0])
uDir = numpy.array([1.0, 0, 0])
wDir = numpy.array([0.0, 0, 1.0])
vDir = numpy.cross(wDir, uDir)

xp = []
yp = []

for x in [0,1,0.02]:
    y_up =  + 0.6*(0.2969*sqrt(x) - 0.1260*x - 0.3516*x*x + 0.2843*x*x*x - 0.1015*x*x*x*x) * vDir
    y_dn =  - 0.6*(0.2969*sqrt(x) - 0.1260*x - 0.3516*x*x + 0.2843*x*x*x - 0.1015*x*x*x*x) * vDir
    x = x
    xp.append(x*uDir)
    yp.append(y_up)
    yp.append(y_dn)

points = ([xp,yp])
edges = makeEdgesFromPoints(points)
wire = makeWireFromEdges(edges)
aFace = makeFaceFromWire(wire)
extrudeDir = 10 * (wDir)  # extrudeDir is a numpy array
prism = makePrismFromFace(aFace, extrudeDir)
# return prism

display.DisplayShape(prism, update=True)
# display.ExportToImage('./CAD_image.png')
display.DisableAntiAliasing()
start_display()














































































































































































































































































































































































































































































































































































































































































































































































































































































